#!/bin/bash

nest_packages () {
    PROJECT_PATH=$(pwd | sed 's:/*$::')
    NEW_PATH="$1"
    mkdir -p "$PROJECT_PATH/$NEW_PATH"
    echo "$PROJECT_PATH/$NEW_PATH"

    for dir in ${NEW_PATH// } ; do
        dir=$(echo $dir | sed 's:/*$::')
        if [ $dir = $(pwd) ]; then
            true
        else
            PROJECT_PATH="$PROJECT_PATH/$dir"
            touch "$PROJECT_PATH/__init__.py"
        fi
    done

    shift;

    for file in "$@"; do
        touch "$PROJECT_PATH/$file"
        echo "$PROJECT_PATH/$file" "created."
    done
}
